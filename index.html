<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Avaliador UX/IHC ‚Äî Profa. Dra. Danielle Pompeu ‚Äî UEA</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Mono:wght@400;500&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0f0f11; --surface: #16161a; --surface2: #1e1e24; --border: #2a2a35;
    --accent: #7c6af7; --accent2: #f7a26a; --accent3: #6af7c0; --accent4: #f76a8a;
    --text: #e8e8f0; --muted: #7a7a9a; --green: #4ade80; --yellow: #facc15; --red: #f87171;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: var(--bg); color: var(--text); font-family: 'DM Sans', sans-serif; min-height: 100vh; overflow-x: hidden; }

  header { padding: 3rem 2rem 2rem; text-align: center; border-bottom: 1px solid var(--border); position: relative; overflow: hidden; }
  header::before { content: ''; position: absolute; top: -80px; left: 50%; transform: translateX(-50%); width: 600px; height: 200px; background: radial-gradient(ellipse, rgba(124,106,247,0.18) 0%, transparent 70%); pointer-events: none; }
  header h1 { font-family: 'DM Serif Display', serif; font-size: clamp(2rem, 5vw, 3.5rem); letter-spacing: -0.02em; line-height: 1.1; }
  header h1 span { color: var(--accent); font-style: italic; }
  header p { margin-top: 0.75rem; color: var(--muted); font-size: 1rem; font-weight: 300; }

  .tabs { display: flex; overflow-x: auto; padding: 1.5rem 2rem 0; border-bottom: 1px solid var(--border); scrollbar-width: none; }
  .tabs::-webkit-scrollbar { display: none; }
  .tab { padding: 0.75rem 1.5rem; cursor: pointer; font-size: 0.85rem; font-weight: 500; color: var(--muted); border-bottom: 2px solid transparent; transition: all 0.2s; white-space: nowrap; display: flex; align-items: center; gap: 0.5rem; }
  .tab:hover { color: var(--text); }
  .tab.active { color: var(--text); border-bottom-color: var(--accent); }
  .tab-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--accent); opacity: 0.5; }
  .tab.active .tab-dot { opacity: 1; }

  main { max-width: 960px; margin: 0 auto; padding: 2rem; }

  .project-bar { display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem; margin-bottom: 2rem; }
  .project-field { display: flex; align-items: center; gap: 0.75rem; padding: 1rem 1.25rem; background: var(--surface); border: 1px solid var(--border); border-radius: 10px; transition: border-color 0.2s; }
  .project-field:focus-within { border-color: var(--accent); }
  .project-field label { color: var(--muted); font-size: 0.82rem; white-space: nowrap; flex-shrink: 0; }
  .project-field input { flex: 1; background: transparent; border: none; outline: none; color: var(--text); font-family: 'DM Mono', monospace; font-size: 0.88rem; }
  .project-field input::placeholder { color: #3a3a55; }
  @media (max-width: 600px) { .project-bar { grid-template-columns: 1fr; } }

  .section { display: none; }
  .section.active { display: block; }

  .framework-intro { background: linear-gradient(135deg, var(--surface) 0%, var(--surface2) 100%); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; display: flex; gap: 1.25rem; align-items: flex-start; }
  .framework-intro .icon { font-size: 2rem; line-height: 1; flex-shrink: 0; }
  .framework-intro h2 { font-family: 'DM Serif Display', serif; font-size: 1.4rem; margin-bottom: 0.25rem; }
  .framework-intro p { color: var(--muted); font-size: 0.88rem; line-height: 1.6; }
  .framework-intro .tag { display: inline-block; margin-top: 0.5rem; padding: 0.2rem 0.6rem; border-radius: 4px; font-family: 'DM Mono', monospace; font-size: 0.75rem; background: rgba(124,106,247,0.15); color: var(--accent); border: 1px solid rgba(124,106,247,0.3); }

  .criterion { background: var(--surface); border: 1px solid var(--border); border-radius: 10px; margin-bottom: 1rem; overflow: hidden; transition: border-color 0.2s; }
  .criterion:hover { border-color: var(--accent); }
  .criterion-header { padding: 1rem 1.25rem; cursor: pointer; display: flex; align-items: flex-start; gap: 1rem; }
  .criterion-num { font-family: 'DM Mono', monospace; font-size: 0.75rem; color: var(--accent); background: rgba(124,106,247,0.1); padding: 0.2rem 0.5rem; border-radius: 4px; flex-shrink: 0; margin-top: 2px; }
  .criterion-title { font-weight: 600; font-size: 0.95rem; margin-bottom: 0.2rem; }
  .criterion-subtitle { font-size: 0.82rem; color: var(--muted); line-height: 1.5; }
  .criterion-right { margin-left: auto; display: flex; align-items: center; gap: 0.5rem; flex-shrink: 0; }
  .criterion-score-preview { font-family: 'DM Mono', monospace; font-size: 0.75rem; padding: 0.15rem 0.45rem; border-radius: 4px; background: var(--surface2); color: var(--muted); }
  .criterion-expand { color: var(--muted); font-size: 0.8rem; transition: transform 0.2s; }
  .criterion.open .criterion-expand { transform: rotate(180deg); }
  .criterion-body { display: none; padding: 0 1.25rem 1.25rem; border-top: 1px solid var(--border); }
  .criterion.open .criterion-body { display: block; }

  .rating-row { margin-top: 1rem; display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; }
  .rating-label { font-size: 0.82rem; color: var(--muted); }
  .stars { display: flex; gap: 0.3rem; }
  .star { width: 32px; height: 32px; border-radius: 6px; border: 1px solid var(--border); background: var(--surface2); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.78rem; font-family: 'DM Mono', monospace; color: var(--muted); transition: all 0.15s; user-select: none; }
  .star:hover { border-color: var(--accent); color: var(--accent); transform: scale(1.1); }
  .star.sel-0 { background: var(--red); border-color: var(--red); color: white; }
  .star.sel-1 { background: #f97316; border-color: #f97316; color: white; }
  .star.sel-2 { background: var(--yellow); border-color: var(--yellow); color: #111; }
  .star.sel-3 { background: #a3e635; border-color: #a3e635; color: #111; }
  .star.sel-4 { background: var(--green); border-color: var(--green); color: #111; }
  .na-btn { padding: 0.35rem 0.65rem; border-radius: 6px; border: 1px solid var(--border); background: var(--surface2); color: var(--muted); font-size: 0.75rem; cursor: pointer; font-family: 'DM Mono', monospace; transition: all 0.15s; user-select: none; }
  .na-btn.selected { background: var(--border); color: var(--text); }
  .notes-area { margin-top: 0.75rem; width: 100%; background: var(--surface2); border: 1px solid var(--border); border-radius: 6px; padding: 0.6rem 0.8rem; color: var(--text); font-family: 'DM Sans', sans-serif; font-size: 0.85rem; resize: vertical; min-height: 60px; outline: none; transition: border-color 0.2s; }
  .notes-area:focus { border-color: var(--accent); }
  .notes-area::placeholder { color: #3a3a55; }

  .examples { margin-top: 0.75rem; display: flex; flex-wrap: wrap; gap: 0.4rem; }
  .example-pill { font-size: 0.78rem; padding: 0.2rem 0.6rem; border-radius: 20px; background: rgba(106,247,192,0.08); border: 1px solid rgba(106,247,192,0.2); color: var(--accent3); }
  .bad-pill { background: rgba(247,106,138,0.08); border: 1px solid rgba(247,106,138,0.2); color: var(--accent4); }

  .severity-legend { display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1.5rem; padding: 1rem 1.25rem; background: var(--surface); border: 1px solid var(--border); border-radius: 10px; font-size: 0.82rem; }
  .severity-legend span { color: var(--muted); }
  .sev-item { display: flex; align-items: center; gap: 0.4rem; }
  .sev-dot { width: 10px; height: 10px; border-radius: 50%; }

  .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
  .score-card { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 1.25rem; text-align: center; }
  .score-card .label { font-size: 0.78rem; color: var(--muted); margin-bottom: 0.5rem; }
  .score-card .value { font-family: 'DM Serif Display', serif; font-size: 2.5rem; line-height: 1; }
  .score-card .sub { font-size: 0.78rem; color: var(--muted); margin-top: 0.25rem; }
  .score-bar { height: 4px; background: var(--border); border-radius: 2px; margin-top: 0.75rem; overflow: hidden; }
  .score-bar-fill { height: 100%; border-radius: 2px; transition: width 0.6s ease; }

  .report-section { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; }
  .report-section h3 { font-family: 'DM Serif Display', serif; font-size: 1.2rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem; }
  .report-item { padding: 0.6rem 0; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: flex-start; font-size: 0.88rem; }
  .report-item:last-child { border-bottom: none; }
  .report-item .name { color: var(--muted); }
  .badge { padding: 0.15rem 0.5rem; border-radius: 4px; font-family: 'DM Mono', monospace; font-size: 0.75rem; white-space: nowrap; }
  .badge-red { background: rgba(248,113,113,0.15); color: var(--red); }
  .badge-yellow { background: rgba(250,204,21,0.15); color: var(--yellow); }
  .badge-green { background: rgba(74,222,128,0.15); color: var(--green); }
  .badge-gray { background: rgba(122,122,154,0.15); color: var(--muted); }

  .info-box { padding: 0.75rem 1rem; background: rgba(124,106,247,0.08); border: 1px solid rgba(124,106,247,0.25); border-radius: 8px; font-size: 0.82rem; color: var(--muted); margin-bottom: 1.5rem; line-height: 1.6; }
  .info-box strong { color: var(--accent); }

  .btn-row { display: flex; gap: 0.75rem; flex-wrap: wrap; margin-top: 0.5rem; }
  .export-btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; border: none; border-radius: 8px; cursor: pointer; font-family: 'DM Sans', sans-serif; font-size: 0.9rem; font-weight: 500; transition: opacity 0.2s; }
  .export-btn:hover { opacity: 0.85; }
  .btn-csv { background: #22c55e; color: white; }
  .btn-txt { background: var(--accent); color: white; }

  .header-meta { margin-top: 1rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem; flex-wrap: wrap; font-size: 0.88rem; }
  .meta-author { color: var(--accent3); font-weight: 500; }
  .meta-sep { color: var(--border); }
  .meta-inst { color: var(--muted); }
  .disclaimer-ia { margin: 0.75rem auto 0; max-width: 600px; padding: 0.5rem 1rem; background: rgba(247,162,106,0.1); border: 1px solid rgba(247,162,106,0.3); border-radius: 8px; font-size: 0.78rem; color: var(--accent2); line-height: 1.5; }

  .ref-box { background: var(--surface2); border-left: 3px solid var(--accent); border-radius: 0 8px 8px 0; padding: 1rem 1.25rem; margin: 1rem 0 1.25rem; }
  .ref-box h4 { font-size: 0.82rem; font-weight: 600; color: var(--accent); margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em; }
  .ref-box p { font-size: 0.82rem; color: var(--muted); line-height: 1.65; margin-bottom: 0.5rem; }
  .ref-box p:last-child { margin-bottom: 0; }
  .ref-cite { font-family: 'DM Mono', monospace; font-size: 0.75rem; color: #5a5a7a; display: block; margin-top: 0.5rem; line-height: 1.5; }

  footer { border-top: 1px solid var(--border); padding: 2rem; text-align: center; margin-top: 2rem; }
  footer p { font-size: 0.78rem; color: var(--muted); line-height: 1.7; }
  footer a { color: var(--accent); text-decoration: none; }
  footer .footer-disclaimer { margin-top: 0.75rem; font-size: 0.72rem; color: #5a5a7a; max-width: 700px; margin-left: auto; margin-right: auto; }
</style>
</head>
<body>

<header>
  <h1>Avaliador <span>UX / IHC</span></h1>
  <p>Avalia√ß√£o heur√≠stica cient√≠fica ¬∑ Nielsen ¬∑ Bastien &amp; Scapin ¬∑ WCAG 2.1 ¬∑ Gestalt</p>
  <div class="header-meta">
    <span class="meta-author">üë©‚Äçüè´ Profa. Dra. Danielle Pompeu Noronha Pontes</span>
    <span class="meta-sep">¬∑</span>
    <span class="meta-inst">Universidade do Estado do Amazonas ‚Äî UEA</span>
  </div>
  <div class="disclaimer-ia">
    ü§ñ Esta ferramenta foi desenvolvida com aux√≠lio de Intelig√™ncia Artificial (Claude, Anthropic).
    O conte√∫do cient√≠fico foi revisado e validado pela autora.
  </div>
</header>

<div class="tabs">
  <div class="tab active" onclick="showTab('nielsen',this)"><div class="tab-dot"></div>üéØ Nielsen</div>
  <div class="tab" onclick="showTab('bastien',this)"><div class="tab-dot" style="background:var(--accent2)"></div>üî¨ Bastien & Scapin</div>
  <div class="tab" onclick="showTab('wcag',this)"><div class="tab-dot" style="background:var(--accent3)"></div>‚ôø WCAG</div>
  <div class="tab" onclick="showTab('gestalt',this)"><div class="tab-dot" style="background:var(--accent4)"></div>üëÅÔ∏è Gestalt</div>
  <div class="tab" onclick="showTab('dashboard',this)"><div class="tab-dot" style="background:#facc15"></div>üìä Resultado</div>
</div>

<main>
  <div class="project-bar">
    <div class="project-field">
      <label>‚úâÔ∏è E-mail:</label>
      <input type="email" id="evaluatorEmail" placeholder="seu@email.com" />
    </div>
    <div class="project-field">
      <label>üåê Site:</label>
      <input type="text" id="projectName" placeholder="www.exemplo.com.br" />
    </div>
  </div>

  <div class="section active" id="section-nielsen">
    <div class="framework-intro">
      <div class="icon">üéØ</div>
      <div>
        <h2>10 Heur√≠sticas de Nielsen</h2>
        <p>Criadas por Jakob Nielsen em 1994, s√£o os princ√≠pios mais utilizados em avalia√ß√µes heur√≠sticas no mundo. Cada heur√≠stica aponta um aspecto essencial da usabilidade.</p>
        <span class="tag">Nielsen Norman Group ¬∑ 1994</span>
      </div>
    </div>
    <div class="ref-box">
      <h4>üìö Referencial Te√≥rico</h4>
      <p>A <strong>Avalia√ß√£o Heur√≠stica</strong> √© um m√©todo de inspe√ß√£o de usabilidade proposto por Nielsen e Molich (1990) e consolidado por Nielsen (1994). Consiste em examinar a interface com base em princ√≠pios estabelecidos ‚Äî as heur√≠sticas ‚Äî sem a participa√ß√£o direta de usu√°rios finais. Por ser de baixo custo e alta efici√™ncia, √© amplamente adotado tanto na academia quanto na ind√∫stria.</p>
      <p>As 10 heur√≠sticas foram derivadas de uma an√°lise fatorial de 249 problemas de usabilidade (Nielsen, 1994) e representam os aspectos mais recorrentes de falhas em interfaces. Estudos demonstram que um grupo de 3 a 5 avaliadores √© suficiente para identificar entre 75% e 90% dos problemas de usabilidade de uma interface.</p>
      <span class="ref-cite">NIELSEN, J. Enhancing the explanatory power of usability heuristics. In: CHI Conference on Human Factors in Computing Systems, 1994. ACM, p. 152‚Äì158.<br>NIELSEN, J.; MOLICH, R. Heuristic evaluation of user interfaces. In: CHI, 1990. ACM, p. 249‚Äì256.</span>
    </div>
    <div class="severity-legend">
      <span>Pontua√ß√£o:</span>
      <div class="sev-item"><div class="sev-dot" style="background:var(--red)"></div>0 = P√©ssimo</div>
      <div class="sev-item"><div class="sev-dot" style="background:#f97316"></div>1 = Ruim</div>
      <div class="sev-item"><div class="sev-dot" style="background:var(--yellow)"></div>2 = Regular</div>
      <div class="sev-item"><div class="sev-dot" style="background:#a3e635"></div>3 = Bom</div>
      <div class="sev-item"><div class="sev-dot" style="background:var(--green)"></div>4 = Excelente</div>
      <div class="sev-item"><div class="sev-dot" style="background:var(--border)"></div>N/A = N√£o se aplica</div>
    </div>
    <div id="criteria-nielsen"></div>
  </div>

  <div class="section" id="section-bastien">
    <div class="framework-intro">
      <div class="icon">üî¨</div>
      <div>
        <h2>Crit√©rios Ergon√¥micos de Bastien &amp; Scapin</h2>
        <p>Desenvolvidos em 1993 pelo INRIA (Fran√ßa), estes 18 crit√©rios oferecem an√°lise granular e operacional da interface ‚Äî muito usados em pesquisa acad√™mica de IHC.</p>
        <span class="tag">INRIA ¬∑ Bastien &amp; Scapin ¬∑ 1993</span>
      </div>
    </div>
    <div class="ref-box">
      <h4>üìö Referencial Te√≥rico</h4>
      <p>Os <strong>Crit√©rios Ergon√¥micos</strong> de Bastien e Scapin foram desenvolvidos no Instituto Nacional de Pesquisa em Inform√°tica e Automa√ß√£o da Fran√ßa (INRIA) como resultado de extensa revis√£o de literatura e estudos emp√≠ricos sobre erros de usabilidade em sistemas interativos. Diferentemente das heur√≠sticas de Nielsen, este conjunto oferece crit√©rios mais operacionais e decompostos, facilitando a identifica√ß√£o precisa de problemas espec√≠ficos.</p>
      <p>Os 18 crit√©rios est√£o organizados em 8 dimens√µes principais: Condu√ß√£o, Carga de Trabalho, Controle Expl√≠cito, Adaptabilidade, Gest√£o de Erros, Consist√™ncia, Significado dos C√≥digos e Compatibilidade. Essa estrutura hier√°rquica permite diagn√≥sticos mais granulares e √© especialmente valorizada em contextos acad√™micos de IHC por sua rigorosidade metodol√≥gica.</p>
      <span class="ref-cite">BASTIEN, J. M. C.; SCAPIN, D. L. Ergonomic criteria for the evaluation of human-computer interfaces. Technical Report INRIA n¬∫ 156, 1993.<br>SCAPIN, D. L.; BASTIEN, J. M. C. Ergonomic criteria for evaluating the ergonomic quality of interactive systems. Behaviour &amp; Information Technology, v. 16, n. 4-5, p. 220‚Äì231, 1997.</span>
    </div>
    <div id="criteria-bastien"></div>
  </div>

  <div class="section" id="section-wcag">
    <div class="framework-intro">
      <div class="icon">‚ôø</div>
      <div>
        <h2>Diretrizes de Acessibilidade WCAG 2.1</h2>
        <p>Padr√£o internacional do W3C organizado em 4 princ√≠pios: Percept√≠vel, Oper√°vel, Compreens√≠vel e Robusto (POUR).</p>
        <span class="tag">W3C ¬∑ WCAG 2.1 ¬∑ 2018</span>
      </div>
    </div>
    <div class="ref-box">
      <h4>üìö Referencial Te√≥rico</h4>
      <p>As <strong>Web Content Accessibility Guidelines (WCAG)</strong> s√£o desenvolvidas pelo World Wide Web Consortium (W3C) por meio do Web Accessibility Initiative (WAI). A vers√£o 2.1, publicada em 2018, expande a vers√£o anterior com crit√©rios voltados para dispositivos m√≥veis, baixa vis√£o e defici√™ncias cognitivas. No Brasil, a acessibilidade digital √© regulamentada pelo Decreto n¬∫ 5.296/2004 e pelo eMAG ‚Äî Modelo de Acessibilidade em Governo Eletr√¥nico.</p>
      <p>As WCAG organizam-se em tr√™s n√≠veis de conformidade: A (m√≠nimo), AA (recomendado) e AAA (m√°ximo). Os crit√©rios desta ferramenta cobrem principalmente o n√≠vel AA, que √© o padr√£o exigido por legisla√ß√µes de acessibilidade em diversos pa√≠ses. A avalia√ß√£o de acessibilidade pode ser conduzida manualmente, com tecnologias assistivas ou com ferramentas automatizadas como axe, Lighthouse e WAVE.</p>
      <span class="ref-cite">W3C. Web Content Accessibility Guidelines (WCAG) 2.1. W3C Recommendation, 05 June 2018. Dispon√≠vel em: https://www.w3.org/TR/WCAG21/<br>BRASIL. Decreto n¬∫ 5.296 de 2 de dezembro de 2004. Regulamenta as Leis n¬∫ 10.048 e n¬∫ 10.098.</span>
    </div>
    <div id="criteria-wcag"></div>
  </div>

  <div class="section" id="section-gestalt">
    <div class="framework-intro">
      <div class="icon">üëÅÔ∏è</div>
      <div>
        <h2>Princ√≠pios da Gestalt na Interface</h2>
        <p>Leis da percep√ß√£o visual da psicologia alem√£ (s√©c. XX). Explicam como o c√©rebro organiza elementos visuais ‚Äî fundamentais para hierarquia e layout.</p>
        <span class="tag">Psicologia da Gestalt ¬∑ Wertheimer ¬∑ 1923</span>
      </div>
    </div>
    <div class="ref-box">
      <h4>üìö Referencial Te√≥rico</h4>
      <p>A <strong>Psicologia da Gestalt</strong> surgiu na Alemanha no in√≠cio do s√©culo XX com os trabalhos de Max Wertheimer, Wolfgang K√∂hler e Kurt Koffka. Seu princ√≠pio fundamental √© que "o todo √© diferente da soma das partes" ‚Äî o c√©rebro humano percebe padr√µes, estruturas e formas de maneira hol√≠stica, e n√£o elemento por elemento. Aplicada ao design de interfaces, a Gestalt explica como usu√°rios agrupam informa√ß√µes, identificam hierarquias e percebem rela√ß√µes entre elementos visuais.</p>
      <p>Em IHC, os princ√≠pios da Gestalt s√£o aplicados para guiar decis√µes de layout, tipografia, uso de espa√ßo em branco, agrupamento de controles e hierarquia visual. Estudos de rastreamento ocular (eye-tracking) t√™m confirmado empiricamente que interfaces que respeitam estes princ√≠pios resultam em menor carga cognitiva, maior efici√™ncia na busca de informa√ß√£o e melhor satisfa√ß√£o do usu√°rio (Lidwell et al., 2010).</p>
      <span class="ref-cite">WERTHEIMER, M. Laws of organization in perceptual forms. In: ELLIS, W. D. (ed.). A source book of Gestalt psychology. London: Routledge, 1938. p. 71‚Äì88.<br>LIDWELL, W.; HOLDEN, K.; BUTLER, J. Universal Principles of Design. 2. ed. Beverly: Rockport Publishers, 2010.</span>
    </div>
    <div id="criteria-gestalt"></div>
  </div>

  <div class="section" id="section-dashboard">
    <div class="framework-intro">
      <div class="icon">üìä</div>
      <div>
        <h2>Resultado da Avalia√ß√£o</h2>
        <p>Resumo consolidado com pontua√ß√µes por framework e identifica√ß√£o dos pontos cr√≠ticos da interface avaliada.</p>
      </div>
    </div>
    <div class="info-box">
      <strong>üí° Exportar CSV:</strong> Gera uma linha com e-mail, site, data e todas as pontua√ß√µes. Abra no Excel ou Google Sheets para comparar avalia√ß√µes de m√∫ltiplos avaliadores ou sites.
    </div>
    <div class="dashboard-grid" id="scorecards"></div>
    <div id="report-body"></div>
    <div class="btn-row">
      <button class="export-btn btn-csv" onclick="exportCSV()">üì• Exportar CSV (para Excel)</button>
      <button class="export-btn btn-txt" onclick="exportTXT()">üìÑ Exportar relat√≥rio (.txt)</button>
    </div>
  </div>
</main>

<script>
const DATA = {
  nielsen: { color:'#7c6af7', items:[
    {id:'n1',num:'H01',title:'Visibilidade do Status do Sistema',subtitle:'O sistema sempre informa os usu√°rios sobre o que est√° acontecendo, com feedback adequado em tempo razo√°vel.',good:['Barra de progresso ao fazer upload','Anima√ß√£o de carregamento vis√≠vel','"Enviado com sucesso!" ap√≥s formul√°rio'],bad:['Bot√£o sem nenhum retorno ao clicar','Formul√°rio que some sem mensagem de confirma√ß√£o']},
    {id:'n2',num:'H02',title:'Correspond√™ncia entre Sistema e Mundo Real',subtitle:'O sistema usa linguagem familiar ao usu√°rio ‚Äî palavras e conceitos do mundo real, n√£o jarg√£o t√©cnico interno.',good:['√çcone de lixeira para deletar','Linguagem em portugu√™s claro','Met√°foras visuais intuitivas (pasta, envelope)'],bad:['"HTTP 403 Forbidden" como mensagem de erro','Siglas t√©cnicas sem explica√ß√£o']},
    {id:'n3',num:'H03',title:'Controle e Liberdade do Usu√°rio',subtitle:'Usu√°rios cometem erros e precisam de sa√≠das de emerg√™ncia claramente marcadas. Suporte a desfazer e refazer.',good:['Bot√£o "Cancelar" bem vis√≠vel','Ctrl+Z funcional','"Tem certeza?" antes de deletar','Fechar modal com Esc'],bad:['Sem bot√£o de voltar','A√ß√£o irrevers√≠vel sem confirma√ß√£o','Modal sem bot√£o de fechar']},
    {id:'n4',num:'H04',title:'Consist√™ncia e Padr√µes',subtitle:'Seguir conven√ß√µes da plataforma. Mesma palavra deve sempre significar a mesma coisa. Mesmos padr√µes visuais para mesmas fun√ß√µes.',good:['Bot√µes com estilo consistente em todo o site','Mesmo vocabul√°rio em todos os fluxos'],bad:['Bot√£o "Salvar" √†s vezes verde, √†s vezes azul','"Fechar" e "Cancelar" usados aleatoriamente']},
    {id:'n5',num:'H05',title:'Preven√ß√£o de Erros',subtitle:'Design cuidadoso que previne problemas antes que ocorram ‚Äî melhor que boas mensagens de erro.',good:['Valida√ß√£o em tempo real no formul√°rio','Autocompletar para reduzir digita√ß√£o','Confirmar antes de a√ß√£o cr√≠tica'],bad:['Campo de data sem indica√ß√£o do formato','Sem limite de caracteres vis√≠vel']},
    {id:'n6',num:'H06',title:'Reconhecimento em Vez de Memoriza√ß√£o',subtitle:'Minimizar a carga de mem√≥ria do usu√°rio. Objetos, a√ß√µes e op√ß√µes devem estar vis√≠veis ou facilmente recuper√°veis.',good:['Menu sempre vis√≠vel','Breadcrumb de navega√ß√£o','Hist√≥rico de pesquisas recentes'],bad:['Atalhos de teclado sem indica√ß√£o visual','Usu√°rio n√£o sabe em que etapa do fluxo est√°']},
    {id:'n7',num:'H07',title:'Flexibilidade e Efici√™ncia de Uso',subtitle:'Aceleradores para usu√°rios experientes. Interface funciona para iniciantes e experts.',good:['Atalhos de teclado documentados','Filtros avan√ßados','Personaliza√ß√£o da interface'],bad:['Sem atalhos de teclado','Fluxo sempre longo mesmo para tarefas simples']},
    {id:'n8',num:'H08',title:'Est√©tica e Design Minimalista',subtitle:'N√£o incluir informa√ß√£o irrelevante. Cada elemento extra compete com os relevantes.',good:['Layout limpo com hierarquia clara','Sem pop-ups desnecess√°rios','Conte√∫do focado na tarefa'],bad:['P√°gina cheia de banners','Informa√ß√µes n√£o relacionadas misturadas']},
    {id:'n9',num:'H09',title:'Ajuda ao Reconhecimento e Recupera√ß√£o de Erros',subtitle:'Mensagens de erro em linguagem simples, que indicam o problema com precis√£o e sugerem solu√ß√£o.',good:['"E-mail inv√°lido ‚Äî use o formato nome@dominio.com"','Campo com erro destacado em vermelho com explica√ß√£o'],bad:['"Erro 500"','"Opera√ß√£o n√£o permitida" sem contexto']},
    {id:'n10',num:'H10',title:'Ajuda e Documenta√ß√£o',subtitle:'Fornecer ajuda f√°cil de buscar, focada na tarefa do usu√°rio.',good:['FAQ organizado e pesquis√°vel','Tooltips contextuais nos campos','Central de ajuda com busca'],bad:['Sem se√ß√£o de ajuda','Documenta√ß√£o t√©cnica demais para o p√∫blico']}
  ]},
  bastien: { color:'#f7a26a', items:[
    {id:'b1',num:'B01',title:'Presteza',subtitle:'O sistema fornece informa√ß√µes que permitem ao usu√°rio saber onde est√°, o que pode fazer e como faz√™-lo.',good:['Indicadores de se√ß√£o ativa no menu','Instru√ß√µes claras em formul√°rios','Labels descritivos em todos os campos'],bad:['Campos sem label','Usu√°rio sem saber em que etapa est√°']},
    {id:'b2',num:'B02',title:'Agrupamento / Distin√ß√£o por Localiza√ß√£o',subtitle:'Itens relacionados est√£o pr√≥ximos e agrupados. Itens diferentes est√£o separados visualmente.',good:['Menu agrupado por categoria','Formul√°rio com se√ß√µes separadas','Cards bem delimitados'],bad:['Informa√ß√µes relacionadas espalhadas pela p√°gina','Bot√µes de a√ß√µes opostas sem separa√ß√£o']},
    {id:'b3',num:'B03',title:'Agrupamento / Distin√ß√£o por Formato',subtitle:'Distin√ß√£o visual entre tipos de elementos por cor, forma, tamanho ou fonte.',good:['T√≠tulos em tamanho maior que o corpo','Bot√µes prim√°rios vs secund√°rios distintos','Links em cor diferente do texto'],bad:['Todo o texto no mesmo estilo','Links indistingu√≠veis do texto comum']},
    {id:'b4',num:'B04',title:'Feedback Imediato',subtitle:'Resposta r√°pida e adequada do sistema a todas as a√ß√µes do usu√°rio.',good:['Hover vis√≠vel nos bot√µes','Confirma√ß√£o visual de envio','Indicador de carregamento em a√ß√µes demoradas'],bad:['Bot√£o que n√£o reage ao clique','Demora sem nenhum feedback']},
    {id:'b5',num:'B05',title:'Legibilidade',subtitle:'Caracter√≠sticas que afetam a leitura ‚Äî contraste, tamanho de fonte, espa√ßamento entre linhas.',good:['Contraste ‚â• 4.5:1 para texto normal','Fonte ‚â• 16px para corpo','Entrelinha entre 1.4 e 1.6'],bad:['Texto cinza claro em fundo branco','Fonte muito pequena','Linhas com mais de 80 caracteres']},
    {id:'b6',num:'B06',title:'Concis√£o',subtitle:'Brevidade nas entradas e sa√≠das ‚Äî dados m√≠nimos necess√°rios para a tarefa.',good:['Formul√°rio com apenas os campos essenciais','Mensagens curtas e diretas'],bad:['Formul√°rio de cadastro com 20+ campos','Textos prolixos que escondem a informa√ß√£o']},
    {id:'b7',num:'B07',title:'A√ß√µes M√≠nimas',subtitle:'Minimizar o n√∫mero de a√ß√µes necess√°rias para realizar uma tarefa.',good:['Checkout em poucos passos','Login com redes sociais','Autopreenchimento de endere√ßo por CEP'],bad:['5 telas para uma compra simples','Confirma√ß√£o de e-mail antes de qualquer acesso']},
    {id:'b8',num:'B08',title:'Densidade Informacional',subtitle:'Volume de informa√ß√£o n√£o deve sobrecarregar a mem√≥ria de trabalho do usu√°rio.',good:['Pagina√ß√£o em listas longas','Progressive disclosure','Resumo antes do detalhe'],bad:['Tabela com 20+ colunas vis√≠veis','Todos os dados exibidos de uma vez']},
    {id:'b9',num:'B09',title:'A√ß√µes Expl√≠citas',subtitle:'O sistema executa a√ß√µes somente quando o usu√°rio pede explicitamente ‚Äî sem efeitos colaterais surpresa.',good:['Salvar apenas ao clicar "Salvar"','Confirmar antes de enviar formul√°rio cr√≠tico'],bad:['Autosalvar sem aviso vis√≠vel','Envio autom√°tico ao pressionar Enter inesperadamente']},
    {id:'b10',num:'B10',title:'Controle do Usu√°rio',subtitle:'O usu√°rio controla o sistema ‚Äî pode parar, pausar ou cancelar opera√ß√µes.',good:['Bot√£o para cancelar downloads','Fechar modais com Esc','Cancelar opera√ß√µes em andamento'],bad:['Modal que n√£o pode ser fechado','Redirecionamento autom√°tico sem op√ß√£o de cancelar']},
    {id:'b11',num:'B11',title:'Flexibilidade',subtitle:'Adapta√ß√£o √†s diversas necessidades e prefer√™ncias dos usu√°rios.',good:['Modo claro e escuro dispon√≠veis','Tamanho de fonte ajust√°vel','Atalhos configur√°veis'],bad:['Sem nenhuma op√ß√£o de personaliza√ß√£o','Layout completamente fixo']},
    {id:'b12',num:'B12',title:'Considera√ß√£o da Experi√™ncia do Usu√°rio',subtitle:'Levar em conta a diversidade de usu√°rios ‚Äî novatos e experientes t√™m necessidades diferentes.',good:['Onboarding para novos usu√°rios','Modo b√°sico e avan√ßado separados','Tooltips opcionais para iniciantes'],bad:['Interface que assume expertise do usu√°rio','Sem guia ou tutorial para novos usu√°rios']},
    {id:'b13',num:'B13',title:'Prote√ß√£o contra Erros',subtitle:'Meios para evitar e recuperar de erros de entrada de dados.',good:['Valida√ß√£o antes do envio final','Undo dispon√≠vel para a√ß√µes importantes','Confirma√ß√£o para a√ß√µes destrutivas'],bad:['Deletar item sem confirma√ß√£o','Formul√°rio que limpa todos os campos ao errar um']},
    {id:'b14',num:'B14',title:'Qualidade das Mensagens de Erro',subtitle:'Mensagens precisas que indicam a natureza exata do erro e como corrigi-lo.',good:['"Senha deve ter ao menos 8 caracteres com uma mai√∫scula"','Destaque visual no campo problem√°tico'],bad:['"Erro ao processar"','"Campo inv√°lido" sem explicar por qu√™ ou como corrigir']},
    {id:'b15',num:'B15',title:'Corre√ß√£o dos Erros',subtitle:'Meios para que o usu√°rio corrija erros sem perder o trabalho j√° feito.',good:['Campo de erro j√° preenchido para editar e reenviar','Possibilidade de voltar e corrigir sem recome√ßar'],bad:['Formul√°rio reseta completamente ap√≥s erro','Sem como voltar para a etapa anterior']},
    {id:'b16',num:'B16',title:'Consist√™ncia',subtitle:'Elementos id√™nticos t√™m comportamentos e apar√™ncia id√™nticos em todo o sistema.',good:['Todos os bot√µes prim√°rios com mesmo estilo','Mesmo padr√£o de data em todo o site'],bad:['Datas em formatos diferentes em p√°ginas distintas','Bot√µes com comportamentos inconsistentes']},
    {id:'b17',num:'B17',title:'Significados dos C√≥digos e Denomina√ß√µes',subtitle:'Codifica√ß√µes usadas (cores, √≠cones, sons) s√£o consistentes, significativas e claras.',good:['Verde = sucesso, vermelho = erro em todo o sistema','√çcones sempre com r√≥tulo de texto'],bad:['√çcone sem texto de apoio','Vermelho usado para destaques que n√£o s√£o erros']},
    {id:'b18',num:'B18',title:'Compatibilidade',subtitle:'Adequa√ß√£o entre a organiza√ß√£o do sistema e as caracter√≠sticas dos usu√°rios ‚Äî tarefa, contexto e expectativas.',good:['Formul√°rio de endere√ßo no padr√£o brasileiro','Data no formato DD/MM/AAAA para p√∫blico brasileiro'],bad:['Interface em ingl√™s para p√∫blico exclusivamente portugu√™s','Fluxo que n√£o reflete o processo real do usu√°rio']}
  ]},
  wcag: { color:'#6af7c0', items:[
    {id:'w1',num:'P¬∑1A',title:'Percept√≠vel ‚Äî Alternativas em Texto',subtitle:'Todo conte√∫do n√£o-texto (imagens, bot√µes-√≠cone, gr√°ficos) tem uma alternativa em texto equivalente para leitores de tela.',good:['alt="Foto de produto: t√™nis azul"','Aria-label em bot√µes que s√≥ t√™m √≠cone','Transcri√ß√£o de v√≠deos e podcasts'],bad:['Tag img sem atributo alt','Bot√£o com apenas √≠cone e sem label acess√≠vel']},
    {id:'w2',num:'P¬∑1B',title:'Percept√≠vel ‚Äî Contraste de Cores',subtitle:'Rela√ß√£o de contraste m√≠nima de 4,5:1 para texto normal e 3:1 para texto grande (‚â•18pt ou ‚â•14pt negrito) ‚Äî n√≠vel AA.',good:['Texto #333 em fundo #FFF = 12.6:1','Verificado com WebAIM Contrast Checker ou axe'],bad:['Texto #999 em fundo #FFF = 2.8:1 (reprovado)','Placeholder com contraste insuficiente']},
    {id:'w3',num:'P¬∑1C',title:'Percept√≠vel ‚Äî Redimensionamento de Texto',subtitle:'Texto ampliado at√© 200% sem perda de conte√∫do ou funcionalidade ‚Äî sem scroll horizontal.',good:['Site responsivo que adapta ao zoom do navegador','Fontes em em ou rem ao inv√©s de px fixo'],bad:['Layout quebra ao aumentar fonte para 200%','Texto embutido em imagem que n√£o escala']},
    {id:'w4',num:'O¬∑2A',title:'Oper√°vel ‚Äî Acessibilidade pelo Teclado',subtitle:'Toda funcionalidade dispon√≠vel via teclado (Tab, Enter, Esc, setas) sem requerer timing espec√≠fico.',good:['Tab navega por todos os controles em ordem l√≥gica','Modal fechado com Esc','Indicador de foco vis√≠vel em todos os elementos'],bad:['Menu dropdown n√£o acess√≠vel por teclado','Foco preso dentro de um componente (armadilha de teclado)','Outline de foco removido no CSS sem substituto']},
    {id:'w5',num:'O¬∑2B',title:'Oper√°vel ‚Äî Tempo Suficiente',subtitle:'Usu√°rios t√™m tempo suficiente para ler e usar o conte√∫do ‚Äî com op√ß√£o de estender ou desativar limites de tempo.',good:['Aviso 2 min antes do timeout com op√ß√£o de estender','Carousels com bot√µes de pausa e controle manual'],bad:['Session timeout abrupto sem aviso','Conte√∫do rotativo que n√£o pode ser pausado']},
    {id:'w6',num:'O¬∑2C',title:'Oper√°vel ‚Äî Convuls√µes e Rea√ß√µes F√≠sicas',subtitle:'N√£o criar conte√∫do que pisca mais de 3 vezes por segundo ‚Äî risco de convuls√µes fotossens√≠veis.',good:['Anima√ß√µes suaves sem flashes','GIFs com taxa de quadros baixa'],bad:['GIFs ou v√≠deos com efeito estrobosc√≥pico','Anima√ß√µes de loading que piscam rapidamente']},
    {id:'w7',num:'O¬∑2D',title:'Oper√°vel ‚Äî Naveg√°vel',subtitle:'Mecanismos para ajudar usu√°rios a navegar, localizar conte√∫do e saber onde est√£o na estrutura.',good:['Link "Pular para o conte√∫do principal" (skip nav)','Breadcrumbs em p√°ginas internas','Tag title √∫nica e descritiva em cada p√°gina','Headings em ordem l√≥gica: H1 seguido de H2, depois H3'],bad:['P√°gina sem tag title ou com t√≠tulo gen√©rico "Home"','Headings fora de ordem (ex: H1 direto para H3, pulando H2)','Sem link skip nav, for√ßando Tab por todo o menu repetidamente']},
    {id:'w8',num:'C¬∑3A',title:'Compreens√≠vel ‚Äî Idioma da P√°gina',subtitle:'O idioma principal da p√°gina e trechos em outros idiomas est√£o identificados no c√≥digo HTML.',good:['Atributo lang="pt-BR" declarado na tag html','Palavras em ingl√™s marcadas com atributo lang="en"'],bad:['Tag html sem atributo lang','Leitor de tela pronunciando portugu√™s com fon√©tica inglesa por falta do atributo lang']},
    {id:'w9',num:'C¬∑3B',title:'Compreens√≠vel ‚Äî Previs√≠vel',subtitle:'P√°ginas aparecem e operam de forma previs√≠vel ‚Äî mudan√ßas de contexto s√≥ ocorrem por solicita√ß√£o expl√≠cita do usu√°rio.',good:['Links com texto descritivo do destino (n√£o s√≥ "clique aqui")','Formul√°rio enviado apenas ap√≥s clique expl√≠cito no bot√£o Enviar','Foco do teclado n√£o muda de elemento automaticamente sem a√ß√£o do usu√°rio'],bad:['"Clique aqui" como texto de link sem contexto','Caixa de sele√ß√£o que navega para outra p√°gina automaticamente ao mudar a op√ß√£o','Janela ou modal que abre sozinho interrompendo o fluxo do usu√°rio']},
    {id:'w10',num:'C¬∑3C',title:'Compreens√≠vel ‚Äî Assist√™ncia na Entrada de Dados',subtitle:'Ajuda para evitar e corrigir erros em formul√°rios ‚Äî com identifica√ß√£o clara e sugest√µes de corre√ß√£o.',good:['Labels permanentes vis√≠veis acima do campo (n√£o s√≥ placeholder)','Indica√ß√£o clara de campos obrigat√≥rios com asterisco e legenda','Sugest√£o de corre√ß√£o: "Voc√™ quis dizer nome@dominio.com?"'],bad:['Placeholder usado como √∫nico label (some ao digitar)','Sem indica√ß√£o de campos obrigat√≥rios','Mensagem de erro gen√©rica sem sugest√£o de como corrigir']},
    {id:'w11',num:'R¬∑4A',title:'Robusto ‚Äî Compat√≠vel com Tecnologias Assistivas',subtitle:'O conte√∫do √© interpretado corretamente por leitores de tela e outros recursos assistivos ‚Äî usando HTML sem√¢ntico e ARIA quando necess√°rio.',good:['HTML sem√¢ntico v√°lido: usar button, nav, main, header corretamente','ARIA usado apenas quando necess√°rio e de forma correta','Testado em leitor de tela como NVDA, VoiceOver ou TalkBack'],bad:['Usar div com onclick no lugar da tag button nativa','ARIA role incorreto, redundante ou em conflito com o HTML nativo','Componentes customizados (dropdowns, modais) sem suporte a teclado ou ARIA adequado']}
  ]},
  gestalt: { color:'#f76a8a', items:[
    {id:'g1',num:'G01',title:'Proximidade',subtitle:'Elementos pr√≥ximos s√£o percebidos como relacionados. O espa√ßo define agrupamentos sem precisar de bordas.',good:['Label imediatamente acima ou √† esquerda do campo','Bot√µes de a√ß√£o agrupados pr√≥ximos','Espa√ßo generoso entre se√ß√µes distintas'],bad:['Label longe do campo ao qual pertence','Bot√µes relacionados distantes um do outro']},
    {id:'g2',num:'G02',title:'Semelhan√ßa',subtitle:'Elementos com apar√™ncia similar s√£o percebidos como parte do mesmo grupo ou com a mesma fun√ß√£o.',good:['Todos os bot√µes prim√°rios com mesmo estilo','Links sempre na mesma cor em todo o site'],bad:['Bot√µes com estilos iguais executando a√ß√µes diferentes','Links com cores variadas sem padr√£o']},
    {id:'g3',num:'G03',title:'Continuidade',subtitle:'O olho tende a seguir linhas e curvas suaves, percebendo fluxo direcional natural.',good:['Breadcrumb com seta ‚Üí direcional','Progress bar horizontal indicando avan√ßo','Listas com fluxo visual consistente'],bad:['Navega√ß√£o que quebra o fluxo visual esperado','Elementos posicionados contra o fluxo natural de leitura']},
    {id:'g4',num:'G04',title:'Fechamento (Closure)',subtitle:'A mente completa formas incompletas. √çcones simples s√£o reconhecidos mesmo parcialmente desenhados.',good:['√çcone de hamb√∫rguer (‚â°) reconhecido como menu','Logo minimalista reconhec√≠vel','Indicador de carregamento circular parcial'],bad:['√çcones muito abstratos que n√£o comunicam a fun√ß√£o']},
    {id:'g5',num:'G05',title:'Figura e Fundo',subtitle:'A mente separa elementos em "figura" (foco) e "fundo". O contraste define o que √© principal.',good:['Modal com overlay escuro semitransparente','CTA em cor de destaque sobre fundo neutro','Conte√∫do principal com contraste claro em rela√ß√£o ao fundo'],bad:['Imagem de fundo complexa que compete com o texto','Textura que dificulta a leitura']},
    {id:'g6',num:'G06',title:'Hierarquia Visual',subtitle:'Elementos mais importantes devem ser visivelmente distintos ‚Äî por tamanho, cor, contraste ou posi√ß√£o.',good:['H1 > H2 > H3 visivelmente distintos','CTA prim√°rio maior e mais colorido que os secund√°rios','Pre√ßo em destaque na p√°gina de produto'],bad:['Todos os textos no mesmo tamanho','Bot√£o principal visualmente igual ao cancelar']},
    {id:'g7',num:'G07',title:'Regi√£o Comum',subtitle:'Elementos dentro de uma √°rea delimitada (card, cor de fundo, borda) s√£o percebidos como pertencentes ao mesmo grupo.',good:['Card com sombra agrupando t√≠tulo, imagem e bot√£o','Sidebar com fundo de cor diferente','Se√ß√£o com fundo distinto indicando conte√∫do relacionado'],bad:['Conte√∫do de grupos diferentes sem delimita√ß√£o visual']},
    {id:'g8',num:'G08',title:'Simetria e Ordem',subtitle:'A mente tende a perceber e preferir formas sim√©tricas. Assimetria intencional chama aten√ß√£o.',good:['Grid sim√©trico cria harmonia','Assimetria intencional para destacar o CTA','Alinhamento consistente em todos os elementos'],bad:['Desalinhamento acidental que parece erro','Layout desordenado sem inten√ß√£o clara']}
  ]}
};

const ratings = {};

function buildCriteria(framework) {
  const container = document.getElementById(`criteria-${framework}`);
  const color = DATA[framework].color;
  DATA[framework].items.forEach(item => {
    ratings[item.id] = { score: null, na: false, notes: '' };
    const div = document.createElement('div');
    div.className = 'criterion';
    div.id = `crit-${item.id}`;
    const goodPills = item.good.map(g => `<span class="example-pill">‚úì ${g}</span>`).join('');
    const badPills  = item.bad.map(b  => `<span class="example-pill bad-pill">‚úó ${b}</span>`).join('');
    div.innerHTML = `
      <div class="criterion-header" onclick="toggleCrit('${item.id}')">
        <div class="criterion-num" style="color:${color};background:${color}22">${item.num}</div>
        <div style="flex:1;min-width:0">
          <div class="criterion-title">${item.title}</div>
          <div class="criterion-subtitle">${item.subtitle}</div>
        </div>
        <div class="criterion-right">
          <div class="criterion-score-preview" id="preview-${item.id}">‚Äî</div>
          <div class="criterion-expand">‚ñº</div>
        </div>
      </div>
      <div class="criterion-body">
        <div class="examples">${goodPills}${badPills}</div>
        <div class="rating-row">
          <span class="rating-label">Avalie:</span>
          <div class="stars" id="stars-${item.id}">
            ${[0,1,2,3,4].map(i=>`<div class="star" title="${['P√©ssimo','Ruim','Regular','Bom','Excelente'][i]}" onclick="setRating('${item.id}',${i})">${i}</div>`).join('')}
          </div>
          <div class="na-btn" id="na-${item.id}" onclick="setNA('${item.id}')">N/A</div>
        </div>
        <textarea class="notes-area" placeholder="Observa√ß√µes, problemas encontrados, evid√™ncias..." oninput="setNotes('${item.id}',this.value)"></textarea>
      </div>`;
    container.appendChild(div);
  });
}

function toggleCrit(id) { document.getElementById(`crit-${id}`).classList.toggle('open'); }

function updatePreview(id) {
  const r = ratings[id], el = document.getElementById(`preview-${id}`);
  if (r.na) { el.textContent='N/A'; el.style.color='var(--muted)'; return; }
  if (r.score===null) { el.textContent='‚Äî'; el.style.color='var(--muted)'; return; }
  const c=['var(--red)','#f97316','var(--yellow)','#a3e635','var(--green)'];
  el.textContent = r.score+'/4'; el.style.color = c[r.score];
}

function setRating(id, score) {
  ratings[id].score=score; ratings[id].na=false;
  document.querySelectorAll(`#stars-${id} .star`).forEach((s,i)=>{ s.className='star'; if(i===score) s.classList.add(`sel-${score}`); });
  document.getElementById(`na-${id}`).classList.remove('selected');
  updatePreview(id);
}

function setNA(id) {
  ratings[id].score=null; ratings[id].na=true;
  document.querySelectorAll(`#stars-${id} .star`).forEach(s=>s.className='star');
  document.getElementById(`na-${id}`).classList.add('selected');
  updatePreview(id);
}

function setNotes(id,val) { ratings[id].notes=val; }

function showTab(tab, el) {
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  document.getElementById(`section-${tab}`).classList.add('active');
  el.classList.add('active');
  if(tab==='dashboard') buildDashboard();
}

function getFrameworkScore(fw) {
  let sum=0, count=0;
  DATA[fw].items.forEach(item => {
    const r=ratings[item.id];
    if(r && r.score!==null && !r.na){ sum+=r.score; count++; }
  });
  if(count===0) return null;
  return { avg:sum/count, count, total:DATA[fw].items.length };
}

function scoreColor(avg) {
  if(avg>=3.5) return 'var(--green)';
  if(avg>=2.5) return '#a3e635';
  if(avg>=1.5) return 'var(--yellow)';
  if(avg>=0.5) return '#f97316';
  return 'var(--red)';
}

function scoreBadge(score) {
  if(score>=3.5) return ['badge-green','Excelente'];
  if(score>=2.5) return ['badge-green','Bom'];
  if(score>=1.5) return ['badge-yellow','Regular'];
  if(score>=0.5) return ['badge-red','Ruim'];
  return ['badge-red','Cr√≠tico'];
}

function buildDashboard() {
  const names={nielsen:'üéØ Nielsen',bastien:'üî¨ Bastien & Scapin',wcag:'‚ôø WCAG',gestalt:'üëÅÔ∏è Gestalt'};
  const sc=document.getElementById('scorecards'); sc.innerHTML='';
  let allSum=0, allCount=0;
  const fwScores={};
  ['nielsen','bastien','wcag','gestalt'].forEach(fw=>{
    const s=getFrameworkScore(fw); fwScores[fw]=s;
    if(s){ allSum+=s.avg; allCount++; }
  });
  const overall=allCount>0 ? allSum/allCount : null;

  const oc=document.createElement('div'); oc.className='score-card'; oc.style.gridColumn='1/-1';
  oc.innerHTML=`<div class="label">Pontua√ß√£o Geral</div>
    <div class="value" style="color:${overall!==null?scoreColor(overall):'var(--muted)'}">
      ${overall!==null?(overall*25).toFixed(0)+'%':'‚Äî'}</div>
    <div class="sub">${overall!==null?overall.toFixed(2)+' / 4.0':'Nenhum crit√©rio avaliado ainda'}</div>
    <div class="score-bar"><div class="score-bar-fill" style="width:${overall!==null?overall*25:0}%;background:${overall!==null?scoreColor(overall):'var(--border)'}"></div></div>`;
  sc.appendChild(oc);

  ['nielsen','bastien','wcag','gestalt'].forEach(fw=>{
    const s=fwScores[fw], card=document.createElement('div'); card.className='score-card';
    card.innerHTML=`<div class="label">${names[fw]}</div>
      <div class="value" style="color:${s?scoreColor(s.avg):'var(--muted)'}">
        ${s?s.avg.toFixed(1):'‚Äî'}</div>
      <div class="sub">${s?`${s.count} de ${s.total} avaliados`:'N√£o avaliado'}</div>
      <div class="score-bar"><div class="score-bar-fill" style="width:${s?s.avg*25:0}%;background:${s?scoreColor(s.avg):'var(--border)'}"></div></div>`;
    sc.appendChild(card);
  });

  const rb=document.getElementById('report-body'); rb.innerHTML='';
  ['nielsen','bastien','wcag','gestalt'].forEach(fw=>{
    const sec=document.createElement('div'); sec.className='report-section';
    sec.innerHTML=`<h3>${names[fw]}</h3>`;
    DATA[fw].items.forEach(item=>{
      const r=ratings[item.id];
      let badge='';
      if(r.na) badge=`<span class="badge badge-gray">N/A</span>`;
      else if(r.score===null) badge=`<span class="badge badge-gray">N√£o avaliado</span>`;
      else { const [cls,lbl]=scoreBadge(r.score); badge=`<span class="badge ${cls}">${r.score}/4 ¬∑ ${lbl}</span>`; }
      const noteHtml=r.notes?`<div style="font-size:0.78rem;color:var(--muted);margin-top:0.2rem;font-style:italic">"${r.notes}"</div>`:'';
      sec.innerHTML+=`<div class="report-item">
        <div style="flex:1;min-width:0;padding-right:0.5rem">
          <span style="font-family:'DM Mono',monospace;font-size:0.75rem;color:var(--accent);margin-right:0.4rem">${item.num}</span>
          <span class="name">${item.title}</span>${noteHtml}
        </div>${badge}</div>`;
    });
    rb.appendChild(sec);
  });
}

function exportCSV() {
  const email=document.getElementById('evaluatorEmail').value||'';
  const site=document.getElementById('projectName').value||'';
  const date=new Date().toLocaleDateString('pt-BR');

  const headers=['Data','E-mail Avaliador','Site Avaliado'];
  const allItems=[];
  ['nielsen','bastien','wcag','gestalt'].forEach(fw=>{
    DATA[fw].items.forEach(item=>{
      headers.push(`${item.num} - ${item.title}`);
      headers.push(`${item.num} - Observa√ß√µes`);
      allItems.push(item);
    });
  });
  headers.push('M√©dia Nielsen','M√©dia Bastien & Scapin','M√©dia WCAG','M√©dia Gestalt','M√©dia Geral');

  const row=[date,email,site];
  allItems.forEach(item=>{
    const r=ratings[item.id];
    row.push(r.na?'N/A':r.score!==null?r.score:'');
    row.push(r.notes?r.notes.replace(/"/g,'""'):'');
  });

  let allSum=0, allCount=0;
  ['nielsen','bastien','wcag','gestalt'].forEach(fw=>{
    const s=getFrameworkScore(fw);
    row.push(s?s.avg.toFixed(2):'');
    if(s){ allSum+=s.avg; allCount++; }
  });
  row.push(allCount>0?(allSum/allCount).toFixed(2):'');

  const esc=v=>`"${String(v).replace(/"/g,'""')}"`;
  const csv=[headers.map(esc).join(','), row.map(esc).join(',')].join('\n');
  const blob=new Blob(['\uFEFF'+csv],{type:'text/csv;charset=utf-8;'});
  const url1=URL.createObjectURL(blob);
  const a1=document.createElement('a'); a1.href=url1; a1.style.display='none';
  a1.download=`avaliacao_ux_${(site||'sem_site').replace(/[^a-z0-9]/gi,'_')}_${date.replace(/\//g,'-')}.csv`;
  document.body.appendChild(a1); a1.click();
  setTimeout(()=>{ document.body.removeChild(a1); URL.revokeObjectURL(url1); },200);
}

function exportTXT() {
  const email=document.getElementById('evaluatorEmail').value||'N√£o informado';
  const site=document.getElementById('projectName').value||'N√£o informado';
  const date=new Date().toLocaleDateString('pt-BR');
  const fwNames={nielsen:'HEUR√çSTICAS DE NIELSEN',bastien:'CRIT√âRIOS DE BASTIEN & SCAPIN',wcag:'ACESSIBILIDADE (WCAG 2.1)',gestalt:'PRINC√çPIOS DA GESTALT'};

  let txt=`RELAT√ìRIO DE AVALIA√á√ÉO UX/IHC\n${'='.repeat(50)}\n`;
  txt+=`Avaliador : ${email}\nSite      : ${site}\nData      : ${date}\n${'='.repeat(50)}\n`;

  ['nielsen','bastien','wcag','gestalt'].forEach(fw=>{
    txt+=`\n${fwNames[fw]}\n${'-'.repeat(40)}\n`;
    DATA[fw].items.forEach(item=>{
      const r=ratings[item.id];
      const score=r.na?'N/A':r.score!==null?`${r.score}/4`:'N√£o avaliado';
      txt+=`[${item.num}] ${item.title}: ${score}\n`;
      if(r.notes) txt+=`     Obs: ${r.notes}\n`;
    });
  });

  txt+=`\n${'='.repeat(50)}\nRESUMO DE PONTUA√á√ïES\n${'-'.repeat(40)}\n`;
  let allSum=0, allCount=0;
  ['nielsen','bastien','wcag','gestalt'].forEach(fw=>{
    const s=getFrameworkScore(fw);
    txt+=`${fwNames[fw]}: ${s?s.avg.toFixed(2)+'/4.0':'N√£o avaliado'}\n`;
    if(s){ allSum+=s.avg; allCount++; }
  });
  txt+=`\nM√âDIA GERAL: ${allCount>0?(allSum/allCount).toFixed(2)+'/4.0 ('+(((allSum/allCount)*25).toFixed(0))+'%)':'N√£o avaliado'}\n`;

  const blob=new Blob([txt],{type:'text/plain;charset=utf-8'});
  const url2=URL.createObjectURL(blob);
  const a2=document.createElement('a'); a2.href=url2; a2.style.display='none';
  a2.download=`relatorio_ux_${(site||'sem_site').replace(/[^a-z0-9]/gi,'_')}.txt`;
  document.body.appendChild(a2); a2.click();
  setTimeout(()=>{ document.body.removeChild(a2); URL.revokeObjectURL(url2); },200);
}

['nielsen','bastien','wcag','gestalt'].forEach(buildCriteria);
</script>

<footer>
  <p>
    <strong>Avaliador UX/IHC</strong> ¬∑ Instrumento pedag√≥gico para avalia√ß√£o heur√≠stica de interfaces<br>
    Desenvolvido por <strong>Profa. Dra. Danielle Pompeu Noronha Pontes</strong><br>
    Universidade do Estado do Amazonas ‚Äî UEA ¬∑ Disciplina de Intera√ß√£o Humano-Computador
  </p>
  <p class="footer-disclaimer">
    ü§ñ <strong>Disclaimer IA:</strong> Esta ferramenta foi desenvolvida com o aux√≠lio do modelo de linguagem Claude (Anthropic, 2025). 
    Os referenciais te√≥ricos, crit√©rios de avalia√ß√£o e conte√∫do cient√≠fico foram revisados e validados pela autora. 
    O uso de IA generativa na produ√ß√£o de ferramentas educacionais √© declarado em conformidade com os princ√≠pios de 
    transpar√™ncia cient√≠fica e integridade acad√™mica.
  </p>
  <p style="margin-top:0.5rem; font-size:0.72rem; color:#3a3a55;">
    Nielsen (1994) ¬∑ Bastien &amp; Scapin (1993) ¬∑ W3C WCAG 2.1 (2018) ¬∑ Wertheimer (1938)
  </p>
</footer>
</body>
</html>
